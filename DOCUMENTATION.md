# Battleship_VP
Документација за проект по Визуелно програмирање - Battleship
- Марија Илиќ, 141116
- Никола Тасевски, 161009
- Стефан Тасевски, 161216

1.	Опис на апликацијата

Апликацијата претставува развој на класичната игра Battleship (https://en.wikipedia.org/wiki/Battleship_(game)) со користење на Windows Forms. Оригинално тоа е друштвена игра која се игра меѓу двајца играчи, така што секој од играчите има свој панел на кој ги распоредува бродовите. Локацијата на бродовите не е позната за другиот играч, па ова игра е игра на погодување така што најизменично играчите бираат полиња на противникот. Играта завршува која еден од играчте ке ги открие сите бродови на противникот. Оваа друштвена игра е развиена во голем број на различни варијанти на компјутерски игри. Нашата се разликува од најголемиот дел со тоа што не се игра меѓу двајца играчи, туку меѓу играч и компјутер со помош на користење на алгоритам од полето на Вештачката интелигенција. Тој е базиран на веројатности предвидувања и може да се подесува точноста на предвидувањето, а со тоа и умешноста на компјутерот да ја игра играта. Алгоритамот е достапен на интернет и е имплементиран во нашата апликација.

2.	Решение на проблемот

2.1.	Класи 

Главната логика на играта е содржна во две класи – Game.cs и Player.cs.

 public class Player

      // Locations of the players' ships.
      public int[,] ShipSet { get; set; }
      // Revieled cells
      public bool[,] RevealedCells { get; set; }
      // Last revieled cells.
      public int[] LastRevieledCells { get; set; }
      // Ships cells left.
      public int[] ShipLeftCells { get; set; }
      // Ships left count.
      public int ShipsLeft { get; set; }
  
Со оваа класа го дефинираме играчот (компјутер и играч). Дефинирана е локацијата на бродовите, откриените полиња, последното откриено поле, останат број на на ќелии и бродови.
 
public static class Game
 
        // AI cleverness, 1 for dumb, 10 for mastermind.
        public static int AICleverness { get; set; }
        // Ship lengths.
        public static int[] shipLengths = new int[5] { 2, 3, 3, 4, 5 };
           
        // [true] player1's move / [false] player2's move.
        public static bool playerSwitch;
        // Round count.
        public static int roundCount;

        // Player information
        public static Player player1;
        public static Player player2;
        
Во оваа класа се содржани функционалностите на самата игра, од распоредувањето на бродовите, AI алгоритамот до изведувањето на нападите. Player1 e играчот, а player2 е компјутерот.

 2.2   Функции во класата Game
 
      a) CanThereBeShip()
      
          static public bool CanThereBeShip(int currentShip, int cellX, int cellY, bool isHorizontal, int[,] shipSet)
          Со оваа функција се проверува дали бродот може да се постави на мрежата со почетни координати cellX и cellY. Се проверува дали бродот излегува надвор од границите на мрежата, дали се поклопува со друг брод.
   
   b)	DeleteShip()
   
         static public void DeleteShip(int currentShip, int[,] shipSet)
         Оваа функција ни овозможува бришење на брод од Ship set-от. По изминување на матрицата, доколку локацијата на бродот е иста со локацијата на моменталниот брод, се брише истиот.
   
   c)	DeployShip()
   
         static public void DeployShip(int currentShip, int cellX, int cellY, bool isHorizontal, int[,] shipSet)
         Со функцијата едноставно се додава брод во Ship set-от, односно полињата од матрицата се означуваат дека се пополнети од соодветниот брод.
   
   d)	PerformAttack()
   
         static public bool PerformAttack(int cellX, int cellY, Player attacker, Player attacked)
         Со оваа функција се изведува нападот од attacker на attacked во полето со координати cellX и cellY. Се проверува дали има брод на таа позиција и истата се забележува за испукана. Доколку тоа е последното поле од некој брод истиот се потонува и полињата околу него се завележуваат за експлодирани, а доколку е и последен брод кој е целосно потонат се прогласува победа за  attacker (напаѓачот).

3.	Упатство за играње:

3.1   Главно мени

По стартување на играта се појавува почетниот прозорец, во кој играчот треба да го избере нивотото на тежина на играта, или да ја терминира играта. Различните тежини се одредуваат според индексот на точноста на веројатносното предвидување на алгоритамот, така што за Easy тој индекс е поставен на 3, за Medium на 7 и за Hard на 10. Почетниот прозорец е претставен на Слика 1, а по изборот на тежината на играта се отвора следниот прозорец прикажан на Слика 2.

3.2   Поставување на бродови

Тука играта сеуште не е започната, играчот најпрво треба да ги распореди своите бродови. Изборот на бродот е на левата страна на прозорецот. Откако ке се кликне на некој од бродовите, доколку играчот сака да ја промени неговата ротација се користи копчето за ротирање (доле лево). Потоа со придвижување на курсорот на мрежата десно се исцртува периметарот на бродот, а по кликнување тој се позиционира и полињата од мрежата се обојуваат во соодветната боја. Поради полесна дистинкција меѓу бродовите, тие се претставени со различни бои. 
Доколку играчот сака да ја промени позицијата на веќе поставен брод, најпрвин го брише со кликнување на копчето десно од самиот брод, а потоа повторно го поставува. Откако ке ги распореди сите бродови, играчот кликнува на копчето PLAY и играта започнува. 
Секој брод зазема одреден број на последователни квадрати на мрежата, распоредени или хоризонтално или вертикално. Бројот на квадрати за секој брод се одредува според видот на бродот. Бродовите не можат да се преклопуваат (односно, само еден брод може да го окупира секој даден квадрат во мрежата) и истите не можат да се допираат (ваквата имплементација е поради тоа што откако одреден брод ке биде откриен целосно при играњето, тој заедно со полињата околу него експлодира, па доколку има допирање, може да дојде до окривање на некој друг соседен брод). Видовите на бродови се исти и за играчот и за компјутерот.
Класите на бродови се следните:

        #	Име	Големина
        
        1	Aircraft Carrier	5
        
        2	Battleship	4
        
        3	Destroyer	3
        
        4	Submarine	3
        
        5	Patrol Boat	2

3.2   Дејството на играта

По кликнување на копчето PLAY, се отвара прозорецот за игра, на кој се наоѓаат два панели, лево панелот на компјутерот, десно на играчот. Со секое кликнување на поле од страна на играчот, и компјутерот испукува одредено поле во панелот на играчот. Победник е оној кој прв ке ги потоне бродовите на противникот (се добива информација и во колку рунди е завршена играта).

 
